function parseAdsParameters(a){return!/[^,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]/.test(a.replace(/"(\\.|[^"\\])*"/g,""))&&eval("("+a+")")}function convertTimeFormat(e){return 3600*e.substr(0,1)+60*e.substr(3,2)+1*e.substr(6,2)}function moAdSlot(e,t,o,a,n,i,d,r,m,s){this.name=e,this.type=t,this.tag=r,this.script=m,"number"==typeof o?this.time=o:"string"==typeof o&&o.indexOf("%")>=0?isNaN(s)?this.time=o:this.time=Math.floor(parseInt(o.substr(0,o.length-1))*s/100):this.time=convertTimeFormat(o),this.id=a,this.skip=parseInt(i)>0?parseInt(i):5,this.source="",this.duration=n,this.sourceType="",void 0!=d&&""!=d?(this.width=parseInt(d.substr(0,d.indexOf("x"))),this.height=parseInt(d.substr(d.indexOf("x")+1,d.length))):(this.width=0,this.height=0),this.seen=!1}function moslotForCurrentTime(e,t){for(v in t)if(!t[v].seen&&t[v].time==e)return t[v];return null}function moslotForType(e,t){for(v in t)if(!t[v].seen&&t[v].type==e)return t[v];return null}var isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod|Mac|Macintosh/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}},moadsConfig="",moadsTag="",enDic={CLOSE_TEXT_LABEL:"Close Ad",ERROR_MESSAGE_LABEL:"Video content error. Please try again by Ctrl + F5!",AD_MESSAGE:"Ad will show after",AD_LOADING:"Ad loading...",AD_SKIP:"Close Ad after",AD_DIMENSSION:"s",REPLAY_LABEL:"Replay",STOP_LABEL:"Stop",AUTO_NEXT_LABEL:"Next",SUGGESTION_LABEL:"Suggestion"},viDic={CLOSE_TEXT_LABEL:"Bỏ qua quảng cáo",ERROR_MESSAGE_LABEL:"Nội dung không thể xem lúc này. Vui lòng Ctrl + F5 để thử lại!",AD_MESSAGE:"Quảng cáo có thể hiển thị sau",AD_SKIP:"Bỏ qua quảng cáo sau",AD_LOADING:"Đang tải quảng cáo...",AD_DIMENSSION:"giây",REPLAY_LABEL:"Xem lại",STOP_LABEL:"Dừng",AUTO_NEXT_LABEL:"Tiếp theo",SUGGESTION_LABEL:"Có thể bạn quan tâm"},selectDic=ZONE_ADS?enDic:viDic,moloadAdPlugin=!1,moloadingAd=!1,moadList=[],moaContainer,moaOverlayContainer,moadDisplayContainer,moadsLoader,moadsManager,moadSlotTmp,mocurrentAdSlot,moadStatus="paused",mooverlayAdTimeout=null,mooverlayAdTimeoutNumber=1e4,moadInfo,mainContentVideo,mainSource,moadDataXml,moadTimeCount=6,moadTimeIns=null,moadTimeText,moadsInt=null,moadTimeVal=5,moadsShowing=!1,moMainCurrentTime=0,moVideoPoster="",moAex=0,resumedMainContent=!1,adTracking5s=!1,adProgressBar,closeText,moadTimeText,moAdStopTimout=null,initIMA=function(e){moaOverlayContainer=document.getElementById("moaContainer3"),"undefined"!=typeof google&&(moaContainer=document.getElementById("moaContainer2"),moaContainer.style.display="none",moadsManager&&moadsManager.destroy(),moaContainer&&(moaContainer.innerHTML="",moaContainer.style.display="none"),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),moadDisplayContainer=new google.ima.AdDisplayContainer(moaContainer,mainContentVideo),moadsLoader=new google.ima.AdsLoader(moadDisplayContainer),moadsManager=null,moadsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,onmoAdsManagerLoaded,!1,moadsLoader),moadsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(e){moonAdError(e)},!1),moloadAdPlugin=!0,setTimeout(function(){"function"==typeof e&&e()},200))},removeAdData=function(){clearInterval(moadsInt),clearInterval(moadTimeIns),moadTimeText&&document.getElementById(vplayer.id())&&(document.getElementById(vplayer.id()).removeChild(moadTimeText),moadTimeText=null),clearTimeout(mooverlayAdTimeout),clearTimeout(moAdStopTimout),moadsManager&&moadsManager.destroy(),moaContainer&&(moaContainer.innerHTML="",moaContainer.style.display="none"),moaOverlayContainer&&(moaOverlayContainer.innerHTML="",moaOverlayContainer.style.display="none"),moadsShowing=!1,moloadingAd=!1,moMainCurrentTime=0,vplayer&&(mainSource=vplayer.src()),initIMA();try{vplayer&&(vplayer.player_.removeClass("vjs-controls-disabled"),vplayer.player_.addClass("vjs-controls-enabled"))}catch(e){console.log("cannot show controls!")}},moinitAds2=function(e){if(window.adb||"undefined"==typeof google)return!1;moadDisplayContainer&&moadDisplayContainer.initialize(),moadList=[],moadTimeVal=5,moadTimeText=document.createElement("div"),document.getElementById(vplayer.id()).appendChild(moadTimeText),moadTimeText&&(moadTimeText.className="ad_time_txt",moadTimeText.innerHTML=selectDic.AD_MESSAGE+' <strong style="color:#fff; font-size: 13px;">'+moadTimeVal+"</strong> "+selectDic.AD_DIMENSSION),setTimeout(function(){moadTimeText&&(moadTimeText.className="ad_time_txt txt_fly_in")},100),clearInterval(moadTimeIns),moadTimeIns=setInterval(function(){return!vplayer.paused()&&(moadTimeVal-=1,moadTimeText&&(moadTimeText.innerHTML=selectDic.AD_MESSAGE+' <strong style="color:#fff; font-size: 13px;">'+moadTimeVal+"</strong> "+selectDic.AD_DIMENSSION),void(1==moadTimeVal&&(clearInterval(moadTimeIns),mocurrentAdSlot=moslotForType("pre-roll",moadList),mocurrentAdSlot?loadmoAdSlot(mocurrentAdSlot):(moadsShowing=!1,moadsManager&&moadsManager.destroy(),moaContainer.style.display="none",moadTimeText.className="ad_time_txt",setTimeout(function(){moadTimeText&&document.getElementById(vplayer.id())&&(document.getElementById(vplayer.id()).removeChild(moadTimeText),moadTimeText=null)},1100),moresumeMainContent(!1)))))},1e3);try{var t=0,o=0,a=0;over=0;for(i in e.adlist)switch(e.adlist[i].type){case"preroll":var n=new moAdSlot("pre-roll-"+t,"pre-roll",0,"",e.adlist[i].duration,convertTimeFormat(e.adlist[i].skipOffset),"",e.adlist[i].tag,"",vplayer.duration());t++,moadList.push(n);break;case"midroll":var n=new moAdSlot("mid-roll-"+o,"mid-roll",e.adlist[i].offset,"",e.adlist[i].duration,convertTimeFormat(e.adlist[i].skipOffset),"",e.adlist[i].tag,"",vplayer.duration());o++,moadList.push(n);break;case"postroll":var n=new moAdSlot("post-roll-"+a,"post-roll",vplayer.duration(),"",e.adlist[i].duration,convertTimeFormat(e.adlist[i].skipOffset),"",e.adlist[i].tag,"",vplayer.duration());a++,moadList.push(n);break;case"overlay":var n=new moAdSlot("overlay-"+over,"overlay",e.adlist[i].offset,"",convertTimeFormat(e.adlist[i].duration),convertTimeFormat(e.adlist[i].skipOffset),e.adlist[i].size,e.adlist[i].tag,e.adlist[i].script,vplayer.duration());over++,moadList.push(n)}}catch(e){}},moinitAds=function(e){if(window.adb||"undefined"==typeof google)return!1;moadDisplayContainer&&moadDisplayContainer.initialize(),moadList=[],moadTimeVal=5,moadTimeText=document.createElement("div"),document.getElementById(vplayer.id()).appendChild(moadTimeText),moadTimeText&&(moadTimeText.className="ad_time_txt",moadTimeText.innerHTML=selectDic.AD_MESSAGE+' <strong style="color:#fff; font-size: 13px;">'+moadTimeVal+"</strong> "+selectDic.AD_DIMENSSION),setTimeout(function(){moadTimeText&&(moadTimeText.className="ad_time_txt txt_fly_in")},100),clearInterval(moadTimeIns),moadTimeIns=setInterval(function(){return!vplayer.paused()&&(moadTimeVal-=1,moadTimeText&&(moadTimeText.innerHTML=selectDic.AD_MESSAGE+' <strong style="color:#fff; font-size: 13px;">'+moadTimeVal+"</strong> "+selectDic.AD_DIMENSSION),void(1==moadTimeVal&&(clearInterval(moadTimeIns),mocurrentAdSlot=moslotForType("pre-roll",moadList),mocurrentAdSlot?loadmoAdSlot(mocurrentAdSlot):(moadsShowing=!1,moadsManager&&moadsManager.destroy(),moaContainer.style.display="none",moadTimeText.className="ad_time_txt",setTimeout(function(){moadTimeText&&document.getElementById(vplayer.id())&&(document.getElementById(vplayer.id()).removeChild(moadTimeText),moadTimeText=null)},1100),moresumeMainContent(!1)))))},1e3);try{var t=new XMLHttpRequest;if(t.onreadystatechange=function(o){if(4==t.readyState&&200==t.status&&(moadDataXml=t.responseXML,this.getResponseHeader("Content-Type").indexOf("xml")>0&&1==validateXML(moadDataXml))){try{var a=document.createAttribute("adtitle");a.value=moadDataXml.getElementsByTagName("AdTitle")[0].childNodes[0].nodeValue,mainContentVideo.setAttributeNode(a)}catch(e){}try{var n=parseAdsParameters(1==moadDataXml.getElementsByTagName("Configs").length?moadDataXml.getElementsByTagName("Configs")[0].childNodes[0].nodeValue:'{"'+moadDataXml.getElementsByTagName("Ad")[0].getAttribute("id")+'":{"type":"preroll","skipOffset":"00:00:06","duration":"00:00:30"}}'),i=0,d=0,r=0,m=0;Object.keys(n).forEach(function(e){for(var t=moadDataXml.getElementsByTagName("Ad"),o=0;o<t.length;o++)if(t[o].getAttribute("id")===e){t[o];switch(n[e].type){case"preroll":var a=new moAdSlot("pre-roll-"+i,"pre-roll",0,e,convertTimeFormat(n[e].duration),convertTimeFormat(n[e].skipOffset),"","",void 0!=n[e].script?n[e].script:"",vplayer.duration());i++,moadList.push(a);break;case"midroll":var a=new moAdSlot("mid-roll-"+d,"mid-roll",convertTimeFormat(n[e].starttime),e,convertTimeFormat(n[e].duration),convertTimeFormat(n[e].skipOffset),"","",void 0!=n[e].script?n[e].script:"",vplayer.duration());d++,moadList.push(a);break;case"postroll":var a=new moAdSlot("post-roll-"+r,"post-roll",vplayer.duration(),e,convertTimeFormat(n[e].duration),convertTimeFormat(n[e].skipOffset),"","",void 0!=n[e].script?n[e].script:"",vplayer.duration());r++,moadList.push(a);break;case"overlay":var a=new moAdSlot("overlay"+m,"overlay",convertTimeFormat(n[e].starttime),e,convertTimeFormat(n[e].duration),convertTimeFormat(n[e].skipOffset),"","",void 0!=n[e].script?n[e].script:"",vplayer.duration());m++,moadList.push(a)}}})}catch(t){try{errorTrackingUrl=e.getElementsByTagName("Error")[0].childNodes[0].nodeValue}catch(e){errorTrackingUrl=""}}try{moadDataXml.getElementsByTagName("AdRequest")[0].childNodes[0].nodeValue}catch(e){}}},e.indexOf("eclick.vn")>=0)t.open("GET",decodeURI(e)+(decodeURI(e).indexOf("?")>0?"&dur=":"?dur=")+vplayer.duration()+"&sw="+mainContentVideo.offsetWidth+"&sh="+mainContentVideo.offsetHeight+"&fosp_aid="+getCookie("fosp_aid")+"&retargeting_id="+("undefined"!=typeof ASPQ_gebMWv?ASPQ_gebMWv:"")+"&gwdadgroup="+("undefined"!=typeof gwdadgroup?gwdadgroup:"")+"&gwdblob="+("undefined"!=typeof gwdblob?gwdblob:"")+"&gwdadserver="+("undefined"!=typeof gwdadserver?gwdadserver:"")+"&gwd="+("undefined"!=typeof gwd?gwd:"")+"&pv="+(Math.random().toString(36)+"00000000000000000").slice(2,12)+"&adb="+window.adb+(null!=mainContentVideo.getAttribute("data-ex")&&""!=mainContentVideo.getAttribute("data-ex")?"&"+mainContentVideo.getAttribute("data-ex"):""),!0);else{var o=window.location!=window.parent.location?document.referrer:document.location.href,a=decodeURI(e);a=a.replace("[timestamp]",(new Date).getTime()),a=a.replace("[referrer_url]",encodeURIComponent(o));try{var e=window.location.href.split("/");a=a.replace("[description_url]",encodeURIComponent(e[0]+"//"+e[2]))}catch(e){}a+="&cust_params="+encodeURIComponent("ap=0"+(null!=mainContentVideo.getAttribute("data-ex")&&""!=mainContentVideo.getAttribute("data-ex")?"&"+mainContentVideo.getAttribute("data-ex"):"")),t.open("GET",a)}window.ASPQ_gebMWv=window.gwdadgroup=window.gwdblob=window.gwdadserver=window.gwd="",t.withCredentials=!0,t.send()}catch(e){}},loadmoAdSlot=function(e){if(resumedMainContent=!1,clearInterval(moadsInt),clearTimeout(mooverlayAdTimeout),window.adb)return!1;if(e.seen=!0,""!=moadsConfig)try{if("overlay"==e.type)if(""!=e.tag){var t=e.tag;if(t.indexOf("eclick.vn")>=0)t.open("GET",decodeURI(o)+(decodeURI(o).indexOf("?")>0?"&dur=":"?dur=")+vplayer.duration()+"&sw="+mainContentVideo.offsetWidth+"&sh="+mainContentVideo.offsetHeight+"&fosp_aid="+getCookie("fosp_aid")+"&retargeting_id="+("undefined"!=typeof ASPQ_gebMWv?ASPQ_gebMWv:"")+"&gwdadgroup="+("undefined"!=typeof gwdadgroup?gwdadgroup:"")+"&gwdblob="+("undefined"!=typeof gwdblob?gwdblob:"")+"&gwdadserver="+("undefined"!=typeof gwdadserver?gwdadserver:"")+"&gwd="+("undefined"!=typeof gwd?gwd:"")+"&pv="+(Math.random().toString(36)+"00000000000000000").slice(2,12)+"&adb="+window.adb+(null!=mainContentVideo.getAttribute("data-ex")&&""!=mainContentVideo.getAttribute("data-ex")?"&"+mainContentVideo.getAttribute("data-ex"):""),!0);else{t=decodeURI(t),t=t.replace("[timestamp]",(new Date).getTime()),t=t.replace("[referrer_url]",encodeURIComponent(window.location!=window.parent.location?document.referrer:document.location.href));try{var o=window.location.href.split("/");t=t.replace("[description_url]",encodeURIComponent(o[0]+"//"+o[2]))}catch(e){}t+="&cust_params="+encodeURIComponent("ap=0"+(null!=mainContentVideo.getAttribute("data-ex")&&""!=mainContentVideo.getAttribute("data-ex")?"&"+mainContentVideo.getAttribute("data-ex"):""))}"undefined"!=typeof google&&moshowGoogleAd(t,!0),window.ASPQ_gebMWv=window.gwdadgroup=window.gwdblob=window.gwdadserver=window.gwd=""}else moshowOverlaySlot2(e);else{var t=e.tag;if(t.indexOf("eclick.vn")>=0)t.open("GET",decodeURI(o)+(decodeURI(o).indexOf("?")>0?"&dur=":"?dur=")+vplayer.duration()+"&sw="+mainContentVideo.offsetWidth+"&sh="+mainContentVideo.offsetHeight+"&fosp_aid="+getCookie("fosp_aid")+"&retargeting_id="+("undefined"!=typeof ASPQ_gebMWv?ASPQ_gebMWv:"")+"&gwdadgroup="+("undefined"!=typeof gwdadgroup?gwdadgroup:"")+"&gwdblob="+("undefined"!=typeof gwdblob?gwdblob:"")+"&gwdadserver="+("undefined"!=typeof gwdadserver?gwdadserver:"")+"&gwd="+("undefined"!=typeof gwd?gwd:"")+"&pv="+(Math.random().toString(36)+"00000000000000000").slice(2,12)+"&adb="+window.adb+(null!=mainContentVideo.getAttribute("data-ex")&&""!=mainContentVideo.getAttribute("data-ex")?"&"+mainContentVideo.getAttribute("data-ex"):""),!0);else{t=decodeURI(t),t=t.replace("[timestamp]",(new Date).getTime()),t=t.replace("[referrer_url]",encodeURIComponent(window.location!=window.parent.location?document.referrer:document.location.href));try{var o=window.location.href.split("/");t=t.replace("[description_url]",encodeURIComponent(o[0]+"//"+o[2]))}catch(e){}t+="&cust_params="+encodeURIComponent("ap=0"+(null!=mainContentVideo.getAttribute("data-ex")&&""!=mainContentVideo.getAttribute("data-ex")?"&"+mainContentVideo.getAttribute("data-ex"):"")+"&aex="+moAex+"&brs="+(ZONE_BRANDSAFE?ZONE_BRANDSAFE:"")+"&bsf="+("undefined"!=typeof window.brs_keyword&&window.brs_keyword.length>0?window.brs_keyword.join(","):""))}"undefined"!=typeof google&&moshowGoogleAd(t,!0),window.ASPQ_gebMWv=window.gwdadgroup=window.gwdblob=window.gwdadserver=window.gwd=""}}catch(e){console.log("LOG:ADS",e)}else{if(""!=e.script){var a=document.createElement("script");a.text=decodeURIComponent(e.script),document.head.appendChild(a).parentNode.removeChild(a)}try{for(var n=moadDataXml.getElementsByTagName("Ad"),i=0;i<n.length;i++)if(n[i].getAttribute("id")===e.id){var d='<VAST version="2.0"></VAST>',r=new DOMParser,m=r.parseFromString(d,"text/xml"),s=m.getElementsByTagName("VAST");s[0].appendChild(n[i]);var o=(new XMLSerializer).serializeToString(m);"undefined"!=typeof google&&moshowGoogleAd(o,!1)}}catch(e){}}},moshowGoogleAd=function(e,t){adTracking5s=!1,clearInterval(moadsInt),moVideoPoster=vplayer.poster(),vplayer.poster(""),mainSource=vplayer.src(),moMainCurrentTime=vplayer.currentTime(),"post-roll"!=mocurrentAdSlot.type&&"mid-roll"!=mocurrentAdSlot.type||vplayer.pause(),moaContainer.style.backgroundColor="transparent",moaContainer.style.height="1px",moaContainer.style.width="1px",moaContainer.style.top=0,moaContainer.style.left=0,moaContainer.style.display="block";var o=new google.ima.AdsRequest;t?o.adTagUrl=e:o.adsResponse=e,o.linearmoAdSlotWidth=mainContentVideo.offsetWidth,o.linearmoAdSlotHeight=mainContentVideo.offsetHeight,o.nonLinearmoAdSlotWidth=mainContentVideo.offsetWidth,o.nonLinearmoAdSlotHeight=mainContentVideo.offsetHeight,moadsLoader.requestAds(o)},moonContentPauseRequested=function(){moMainCurrentTime=vplayer.currentTime(),vplayer.pause()},moonContentResumeRequested=function(){moresumeMainContent()},moonAdError=function(e){moadsShowing=!1;var t=e.getError();console&&console.log("AD INFO: ERROR:",t.getErrorCode(),"---",t.getVastErrorCode()),closeText&&moaContainer.contains(closeText)&&(moaContainer.removeChild(closeText),closeText=null),adProgressBar&&moaContainer.contains(adProgressBar)&&(moaContainer.removeChild(adProgressBar),adProgressBar=null),clearInterval(moadsInt),moaContainer.style.display="none",moadsShowing=!1,vplayer.poster(""),vplayer.ended()&&VideoVNE.showEndVideo();try{vplayer.player_.removeClass("vjs-controls-disabled"),vplayer.player_.addClass("vjs-controls-enabled")}catch(e){}clearInterval(moadTimeIns),moadTimeText&&(moadTimeText.className="ad_time_txt"),setTimeout(function(){moadTimeText&&document.getElementById(vplayer.id())&&(document.getElementById(vplayer.id()).removeChild(moadTimeText),moadTimeText=null)},1100)},onmoAdsManagerLoaded=function(e){var t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,t.useStyledNonLinearAds=!0,t.bitrate=4e3,moadsManager=e.getAdsManager(mainContentVideo,t),moadsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,moonAdError),moadsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSETE_REQUESD,moonContentPauseRequested),moadsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,moonContentResumeRequested),moadsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,moonAdEvent),moadsManager.addEventListener(google.ima.AdEvent.Type.LOADED,moonAdEvent),moadsManager.addEventListener(google.ima.AdEvent.Type.STARTED,moonAdEvent),moadsManager.addEventListener(google.ima.AdEvent.Type.AD_PROGRESS,moonAdEvent),moadsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,moonAdEvent),moadsManager.addEventListener(google.ima.AdEvent.Type.FIRST_QUARTILE,moonAdEvent),moadsManager.addEventListener(google.ima.AdEvent.Type.MIDPOINT,moonAdEvent),moadsManager.addEventListener(google.ima.AdEvent.Type.THIRD_QUARTILE,moonAdEvent),moadsManager.addEventListener(google.ima.AdEvent.Type.CLICK,moonAdEvent),moadsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,moonAdEvent),moadsManager.addEventListener(google.ima.AdEvent.Type.VOLUME_MUTED,moonAdEvent),moadsManager.addEventListener(google.ima.AdEvent.Type.VOLUME_CHANGED,moonAdEvent),moadsManager.addEventListener(google.ima.AdEvent.Type.RESUMED,moonAdEvent),moadsManager.addEventListener(google.ima.AdEvent.Type.IMPRESSION,moonAdEvent),moadsManager.addEventListener(google.ima.AdEvent.Type.LINEAR_CHANGED,moonAdEvent),moadsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,moonAdEvent),moadsManager.addEventListener(google.ima.AdEvent.Type.USER_CLOSE,moonAdEvent);try{moadsManager.init(mainContentVideo.offsetWidth,mainContentVideo.offsetHeight,google.ima.ViewMode.NORMAL),moadsManager.start()}catch(e){console.log("LOG:ADS",e),moaContainer.style.display="none"}}.bind(this),moonAdEvent=function(e){switch(moadInfo=e.getAd(),e.type){case google.ima.AdEvent.Type.USER_CLOSE:moresumeMainContent();break;case google.ima.AdEvent.Type.PAUSED:moadStatus="paused";break;case google.ima.AdEvent.Type.RESUMED:moadStatus="playing";break;case google.ima.AdEvent.Type.FIRST_QUARTILE:break;case google.ima.AdEvent.Type.MIDPOINT:break;case google.ima.AdEvent.Type.THIRD_QUARTILE:break;case google.ima.AdEvent.Type.CLICK:"paused"==moadStatus?moadsManager.resume():"playing"==moadStatus&&moadsManager.pause();break;case google.ima.AdEvent.Type.SKIPPED:break;case google.ima.AdEvent.Type.IMPRESSION:break;case google.ima.AdEvent.Type.VOLUME_MUTED:break;case google.ima.AdEvent.Type.VOLUME_CHANGED:break;case google.ima.AdEvent.Type.LOADED:if(console.log("AD INFO: ",moadInfo.isLinear(),moadInfo.getWidth(),moadInfo.getHeight(),moadInfo.getDuration(),moadInfo.getContentType()),moaContainer.style.height=mainContentVideo.offsetHeight+"px",moaContainer.style.width=mainContentVideo.offsetWidth+"px",moadInfo.getContentType().indexOf("audio")>=0||0==mainContentVideo.offsetHeight||moadInfo.getContentType().indexOf("video/3gpp")>=0)return moadsManager.stop(),!1;if((moadInfo.getContentType().indexOf("video")>=0||moadInfo.getContentType().indexOf("application/x-mpeg")>=0)&&(moaContainer.style.display="none"),clearInterval(moadTimeIns),moadTimeText&&(moadTimeText.innerHTML=selectDic.AD_LOADING),moadInfo.isLinear()){for(v in moadList)!moadList[v].seen&&"overlay"==moadList[v].type&&vplayer.currentTime()+15>moadList[v].time&&vplayer.currentTime()+15<vplayer.duration()&&(moadList[v].time=Math.floor(vplayer.currentTime()+15));moaContainer.style.left="0",moaContainer.style.top="0",moadsShowing=!0}else moadsShowing=!1,moaContainer.style.top="-40px",clearTimeout(mooverlayAdTimeout),mooverlayAdTimeout=setTimeout(function(){moadsManager.stop()},mooverlayAdTimeoutNumber);break;case google.ima.AdEvent.Type.AD_PROGRESS:document.getElementById("adProgess")&&(document.getElementById("adProgess").style.width=100*(e.getAdData().duration-moadsManager.getRemainingTime())/e.getAdData().duration+"%"),adTracking5s||5!=Math.round(e.getAdData().duration-moadsManager.getRemainingTime())||(adTracking5s=!0,trackingDataPlayer("videoAd5s",VideoVNE.page_url,"",((new Date).getTime()-rtv)/1e3),rtv=(new Date).getTime());break;case google.ima.AdEvent.Type.STARTED:if(trackingDataPlayer("videoAdStart",VideoVNE.page_url,"0%",((new Date).getTime()-rtv)/1e3),rtv=(new Date).getTime(),moadInfo.isLinear()){try{vplayer.player_.removeClass("vjs-controls-enabled"),vplayer.player_.addClass("vjs-controls-disabled")}catch(e){console.log("cannot hide controls!!!")}vplayer.pause(),(moadInfo.getContentType().indexOf("video")>=0||moadInfo.getContentType().indexOf("application/x-mpeg")>=0||moadInfo.getContentType().indexOf("application/javascript")>=0)&&(moaContainer.style.display="block",closeText=document.createElement("div"),closeText.className="fp-ad-close-text",closeText.id="fpAdClose",closeText.style.fontSize=Math.round(2.5*mainContentVideo.offsetHeight)/100+"px",adProgressBar=document.createElement("div"),adProgressBar.className="vjs-progress-holder vjs-slider vjs-slider-horizontal",adProgressBar.id="adProgressBar",adProgressBar.style.height="4px",adProgressBar.style.backgroundColor="#acacac",adProgressBar.style.display=moadInfo.getContentType().indexOf("application/javascript")>=0?"none":"block",adProgressBar.style.position="absolute",adProgressBar.style.bottom="0",adProgressBar.style.width="100%",adProgressBar.style.margin="0",adProgressBar.style.padding="0",""!=moaContainer.innerHTML&&(moaContainer.appendChild(closeText),closeText&&(closeText.innerHTML=selectDic.AD_SKIP+" 6 "+selectDic.AD_DIMENSSION),moaContainer.appendChild(adProgressBar),adProgressBar&&(adProgressBar.innerHTML='<div id="adProgess" class="ad-play-progress" style="width: 0%;height:100%;background-color:#ffb100;"></div>')),moadTimeText&&(moadTimeText.className="ad_time_txt"),setTimeout(function(){moadTimeText&&document.getElementById(vplayer.id())&&(document.getElementById(vplayer.id()).removeChild(moadTimeText),moadTimeText=null)},1100),clearInterval(moadsInt),moadTimeCount=6,moadsInt=setInterval(function(){if(moadTimeCount-=1,closeText&&(closeText.innerHTML=selectDic.AD_SKIP+" "+moadTimeCount+" "+selectDic.AD_DIMENSSION),0==moadTimeCount)return clearInterval(moadsInt),closeText&&(closeText.innerHTML=selectDic.CLOSE_TEXT_LABEL,closeText.addEventListener("click",function(){trackingDataPlayer("videoAdSkip",VideoVNE.page_url,"",((new Date).getTime()-rtv)/1e3),rtv=(new Date).getTime(),moadsShowing=!1,moadsManager.stop(),moAdStopTimout=setTimeout(function(){console.log("--->timeout skip!!!"),moresumeMainContent()},1e3)},!1)),!1},1e3))}break;case google.ima.AdEvent.Type.COMPLETE:clearTimeout(moAdStopTimout),trackingDataPlayer("videoAdComplete",VideoVNE.page_url,"100%",((new Date).getTime()-rtv)/1e3),rtv=(new Date).getTime(),moresumeMainContent();break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:clearTimeout(moAdStopTimout),moresumeMainContent();break;case google.ima.AdEvent.Type.LINEAR_CHANGED:}},moshowOverlaySlot2=function(e){moadsShowing=!1,e.script=e.script.replace(/div-gpt-ad-overlay/gi,vplayer.id().replace("media-video-","").replace("_html5_api","")+"-div-gpt-ad-overlay"),moaOverlayContainer.style.display="block",moaOverlayContainer.style.width=0!=e.width?e.width+"px":"480px",moaOverlayContainer.style.height=0!=e.height?e.height+"px":"70px",moaOverlayContainer.style.overflow="hidden",moaOverlayContainer.style.left=(moaOverlayContainer.parentNode.offsetWidth-(0!=e.width?e.width:480))/2+"px",moaOverlayContainer.style.top=moaOverlayContainer.parentNode.offsetHeight-(0!=e.height?e.height:70)-40+"px",moaOverlayContainer.innerHTML=decodeURIComponent(e.script),closeText=document.createElement("div"),closeText.className="fp-ad-close-button",moaOverlayContainer.appendChild(closeText),closeText&&closeText.addEventListener("click",function(){clearTimeout(mooverlayAdTimeout),moaOverlayContainer.innerHTML="",moaOverlayContainer.style.display="none",moaOverlayContainer.style.height="1px",moaOverlayContainer.style.width="1px"},!1),mooverlayAdTimeout=setTimeout(function(){moaOverlayContainer.innerHTML="",moaOverlayContainer.style.display="none"},1e3*e.duration);for(var t=moaOverlayContainer.getElementsByTagName("script"),o=0;o<t.length;o++){var a=t[o],n=a.parentElement,i=document.createElement("script");""!=a.getAttribute("async")&&"true"!=a.getAttribute("async")||(i.async=!0),a.src&&(i.src=a.src),a.text&&(i.text=a.text),n.insertBefore(i,a),n.removeChild(a)}},moresumeMainContent=function(){if(resumedMainContent)return!1;resumedMainContent=!0,closeText&&moaContainer.contains(closeText)&&(moaContainer.removeChild(closeText),closeText=null),adProgressBar&&moaContainer.contains(adProgressBar)&&(moaContainer.removeChild(adProgressBar),adProgressBar=null),clearInterval(moadsInt),moadsShowing=!1,vplayer.poster(""),vplayer.ended()?VideoVNE.showEndVideo():vplayer.play(),moaContainer.style.display="none",moaContainer.style.height="1px",moaContainer.style.width="1px";try{vplayer.player_.removeClass("vjs-controls-disabled"),vplayer.player_.addClass("vjs-controls-enabled")}catch(e){}},screenChange=function(){moadsManager&&moadsManager.resize(mainContentVideo.offsetWidth,mainContentVideo.offsetHeight,vplayer.isFullscreen()?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),moaContainer&&(moaContainer.style.width=mainContentVideo.offsetWidth+"px",moaContainer.style.height=mainContentVideo.offsetHeight+"px"),document.getElementById("fpAdClose")&&(document.getElementById("fpAdClose").style.fontSize=Math.round(2.5*mainContentVideo.offsetHeight)/100+"px")};